(function(a,b){a.smartfiltersTheme=function(d,c){var g=this;g.filters=d;g.o=a.extend({parentLabelSelector:"label",parentParamSelector:".filter-param,p"},c);g.$form=f();if(g.$form){i();h()}else{e("$.smartfiltersTheme fail: form not found")}function f(){var j=false;a.each(g.filters,function(l,k){if(!j||!j.length){j=a('[name^="'+l+'"]').closest("form");return false}});return j&&j.length?j:false}function i(){var k,m,j,l;a.each(g.filters,function(o,n){k=g.$form.find('input[name="'+o+'[]"]');if(k.length){if(n.disabled&&!a.isEmptyObject(n.disabled)){for(var p in n.disabled){m=k.filter('[value="'+p+'"]');l=n.disabled.hasOwnProperty(p)&&n.disabled[p];m.prop("disabled",l);j=l?"add":"remove";m.closest(g.o.parentLabelSelector)[j+"Class"]("sf-label-disabled")}j=k.filter(":not(:disabled)").length?"remove":"add";k.closest(g.o.parentParamSelector)[j+"Class"]("sf-param-disabled")}else{k.prop("disabled",false);k.closest(g.o.parentLabelSelector).removeClass("sf-label-disabled");k.closest(g.o.parentParamSelector).removeClass("sf-param-disabled")}}else{}})}function h(){if(!a(b).data("smartfilters-event")){a(b).data("smartfilters-event",function(n,l,k){var j=a("<div>").html(l.responseText),m=j.find("[data-smartfilters-data]:first");if(m.length){m=m.text();m=a.parseJSON(m);g.filters=m;a.smartfiltersTheme(m,g.o)}})}a(b).unbind("ajaxSuccess",a(b).data("smartfilters-event"));a(b).bind("ajaxSuccess",a(b).data("smartfilters-event"))}function e(j){window.console&&console.log("$.smartfiltersTheme: "+j)}}})(jQuery,document);